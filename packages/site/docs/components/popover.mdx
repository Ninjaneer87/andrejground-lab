import PopoverUsage from '@site/src/components/docs/Popover/PopoverUsage';
import PopoverPlacements from '@site/src/components/docs/Popover/PopoverPlacements';
import PopoverControlled from '@site/src/components/docs/Popover/PopoverControlled';
import PopoverOffset from '@site/src/components/docs/Popover/PopoverOffset';
import PopoverWithForm from '@site/src/components/docs/Popover/PopoverWithForm';
import PopoverBackdrop from '@site/src/components/docs/Popover/PopoverBackdrop';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';
import Link from '@docusaurus/Link';
import {
  popoverControlledTsx,
  popoverPlacementsTsx,
  popoverUsageTsx,
  popoverOffsetTsx,
  popoverWithFormTsx,
  popoverBackdropTsx,
} from '@site/docs/components/_snippets/popover';

# Popover

A Popover is a non-modal overlay that anchors itself to a trigger element. Unlike a standard tooltip, it is designed to hold interactive rich content such as forms, lists, or navigation, without breaking the user's current context.

Popover is used as an underlying component for other components like <Link to='/docs/components/dropdown'>Dropdown</Link> and <Link to='/docs/components/select'>Select</Link>.

## Key Characteristics

- **Non-Modal**: The user can still interact with the rest of the page while the popover is open.
- **Floating Context**: It uses **position: fixed** in combination with **react-portals** to ensure it remains visible and correctly placed relative to its disclosure, even within scrolling containers, or in any other context. It just works.
- **Rich Interaction**: Specifically built to handle interactive elements (buttons, inputs) that require focus management and keyboard navigation.

## Import

There are 3 popover related components:

- `Popover`: The main popover component.
- `PopoverTrigger`: The component that triggers the popover to open or close.
- `PopoverContent`: The content that is displayed when the popover is open.

```tsx
import { Popover, PopoverTrigger, PopoverContent } from '@andrejground/lab';
```

Compound pattern is also supported:

- `Popover.Trigger`
- `Popover.Content`

## Usage

<Tabs>
  <TabItem value="preview" label="Preview" default className="preview-tab">
    <PopoverUsage />
  </TabItem>
  <TabItem value="code" label="Code">
    <CodeBlock language="tsx">{popoverUsageTsx}</CodeBlock>
  </TabItem>
</Tabs>

## Placement

<Tabs>
  <TabItem value="preview" label="Preview" default className="preview-tab">
    <PopoverPlacements />
  </TabItem>
  <TabItem value="code" label="Code">
    <CodeBlock language="tsx">{popoverPlacementsTsx}</CodeBlock>
  </TabItem>
</Tabs>

## Controlled

<Tabs>
  <TabItem value="preview" label="Preview" default className="preview-tab">
    <PopoverControlled />
  </TabItem>
  <TabItem value="code" label="Code">
    <CodeBlock language="tsx">{popoverControlledTsx}</CodeBlock>
  </TabItem>
</Tabs>

## Offset

<Tabs>
  <TabItem value="preview" label="Preview" default className="preview-tab">
    <PopoverOffset />
  </TabItem>
  <TabItem value="code" label="Code">
    <CodeBlock language="tsx">{popoverOffsetTsx}</CodeBlock>
  </TabItem>
</Tabs>

## With Form

<Tabs>
  <TabItem value="preview" label="Preview" default className="preview-tab">
    <PopoverWithForm />
  </TabItem>
  <TabItem value="code" label="Code">
    <CodeBlock language="tsx">{popoverWithFormTsx}</CodeBlock>
  </TabItem>
</Tabs>

## Backdrop

<Tabs>
  <TabItem value="preview" label="Preview" default className="preview-tab">
    <PopoverBackdrop />
  </TabItem>
  <TabItem value="code" label="Code">
    <CodeBlock language="tsx">{popoverBackdropTsx}</CodeBlock>
  </TabItem>
</Tabs>
